(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{354:function(t,s,a){"use strict";a.r(s);var e=a(43),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"springcloudå¼‚å¸¸å¤„ç†ç»Ÿä¸€å°è£…æˆ‘æ¥åš-ä½¿ç”¨ç¯‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#springcloudå¼‚å¸¸å¤„ç†ç»Ÿä¸€å°è£…æˆ‘æ¥åš-ä½¿ç”¨ç¯‡"}},[t._v("#")]),t._v(" SpringCloudå¼‚å¸¸å¤„ç†ç»Ÿä¸€å°è£…æˆ‘æ¥åš-ä½¿ç”¨ç¯‡")]),t._v(" "),a("h2",{attrs:{id:"ç®€ä»‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç®€ä»‹"}},[t._v("#")]),t._v(" ç®€ä»‹")]),t._v(" "),a("p",[t._v("é‡å¤åŠŸèƒ½æˆ‘æ¥å†™ã€‚åœ¨ "),a("code",[t._v("SpringBoot")]),t._v(" é¡¹ç›®é‡Œéƒ½æœ‰å…¨å±€å¼‚å¸¸å¤„ç†ä»¥åŠè¿”å›åŒ…è£…ç­‰ï¼Œè¿”å›å‰ç«¯æ˜¯å¸¦ä¸Š"),a("code",[t._v("succ")]),t._v("ã€"),a("code",[t._v("code")]),t._v("ã€"),a("code",[t._v("msg")]),t._v("ã€"),a("code",[t._v("data")]),t._v("ç­‰å­—æ®µã€‚å•ä¸ªé¡¹ç›®æƒ…å†µä¸‹å¾ˆå¥½è§£å†³ï¼Œå½“å¾®æœåŠ¡æ¨¡å—å¤šçš„æƒ…å†µä¸‹ï¼Œå¾ˆå¤šæƒ…å†µå¼€å‘éƒ½æ˜¯å¤åˆ¶åŸæœ‰ä»£ç è¿›è¡Œæ„å»ºå¦å¤–ä¸€ä¸ªé¡¹ç›®çš„ï¼Œå¯¼è‡´è¿™äº›åŠŸèƒ½å‡çº§éœ€è¦ä¿®æ”¹å¤šä¸ªæœåŠ¡ï¼Œåœ¨è¿™ä¸ªåŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å°è£…äº†ä¸€ä¸ªç»„ä»¶ "),a("code",[t._v("unified-dispose-spring-cloud-starter")]),t._v(" é‡Œé¢åŒ…å«äº†ä¸€äº›åŸºç¡€çš„å¼‚å¸¸å¤„ç†ä»¥åŠè¿”å›åŒ…è£…åŠŸèƒ½ã€‚")]),t._v(" "),a("h2",{attrs:{id:"ä¾èµ–æ·»åŠ å¯åŠ¨åŠŸèƒ½"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¾èµ–æ·»åŠ å¯åŠ¨åŠŸèƒ½"}},[t._v("#")]),t._v(" ä¾èµ–æ·»åŠ å¯åŠ¨åŠŸèƒ½")]),t._v(" "),a("p",[t._v("æ·»åŠ ä¾èµ–\n"),a("strong",[t._v("ps:")]),t._v(" å®é™…versionç‰ˆæœ¬è¯·ä½¿ç”¨æœ€æ–°ç‰ˆ\n"),a("strong",[t._v("æœ€æ–°ç‰ˆæœ¬:")]),t._v(" "),a("a",{attrs:{href:"https://search.maven.org/search?q=g:com.purgeteam.cloud%20AND%20a:unified-dispose-spring-cloud-starter",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://img.shields.io/maven-central/v/com.purgeteam.cloud/unified-dispose-spring-cloud-starter.svg?label=Maven%20Central",alt:"Maven Central"}}),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://search.maven.org/search?q=g:com.purgeteam.cloud%20AND%20a:unified-dispose-spring-cloud-starter",target:"_blank",rel:"noopener noreferrer"}},[t._v("ç‚¹å‡»æŸ¥çœ‹æœ€æ–°æ–°ç‰ˆæœ¬"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("<dependency>\n  <groupId>com.purgeteam.cloud</groupId>\n  <artifactId>unified-dispose-spring-cloud-starter</artifactId>\n  <version>0.3.0.RELEASE</version>\n</dependency>\n")])])]),a("p",[t._v("å¯åŠ¨ç±»æ·»åŠ  "),a("code",[t._v("@EnableGlobalDispose")]),t._v(" æ³¨è§£å¼€å¯ä»¥ä¸‹åŠŸèƒ½ã€‚")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("@EnableGlobalDispose\n@SpringBootApplication\npublic class GlobalDisposeSpringBootApplication {\n\n  public static void main(String[] args) {\n    SpringApplication.run(GlobalDisposeSpringBootApplication.class, args);\n  }\n\n}\n")])])]),a("h2",{attrs:{id:"one-å¼‚å¸¸å¤„ç†âš ï¸"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#one-å¼‚å¸¸å¤„ç†âš ï¸"}},[t._v("#")]),t._v(" One å¼‚å¸¸å¤„ç†âš ï¸")]),t._v(" "),a("p",[t._v("åœ¨é¡¹ç›®ä¸­ç»å¸¸å‡ºç°ç³»ç»Ÿå¼‚å¸¸çš„æƒ…å†µï¼Œæ¯”å¦‚"),a("code",[t._v("NullPointerException")]),t._v("ç­‰ç­‰ã€‚å¦‚æœé»˜è®¤æœªå¤„ç†çš„æƒ…å†µä¸‹ï¼Œ"),a("code",[t._v("springboot")]),t._v("ä¼šå“åº”é»˜è®¤çš„é”™è¯¯æç¤ºï¼Œè¿™æ ·å¯¹ç”¨æˆ·ä½“éªŒä¸æ˜¯å‹å¥½ï¼Œç³»ç»Ÿå±‚é¢çš„é”™è¯¯ï¼Œç”¨æˆ·ä¸èƒ½æ„ŸçŸ¥åˆ°ï¼Œå³ä½¿ä¸º"),a("code",[t._v("500")]),t._v("çš„é”™è¯¯ï¼Œå¯ä»¥ç»™ç”¨æˆ·æç¤ºä¸€ä¸ªç±»ä¼¼"),a("code",[t._v("æœåŠ¡å™¨å¼€å°å·®")]),t._v("çš„å‹å¥½æç¤ºç­‰ã€‚")]),t._v(" "),a("p",[t._v("æ¨¡å—é‡Œä»¥åŠåŒ…å«äº†ä¸€äº›åŸºæœ¬çš„å¼‚å¸¸å¤„ç†æ–¹å¼(åŠä¸éœ€è¦åšä»»ä½•ä»£ç ç¼–å†™å·²ç»å…·æœ‰åŸºæœ¬å¼‚å¸¸å¤„ç†)ï¼Œä»¥åŠä¸€äº›å¸¸è§çš„å¼‚å¸¸codeï¼Œç”¨æˆ·åªéœ€è¦å…³å¿ƒä¸šåŠ¡å¼‚å¸¸å¤„ç†å³å¯ï¼Œç›´æ¥é€šè¿‡ "),a("code",[t._v("throw new å¼‚å¸¸")]),t._v(" çš„æ–¹å¼æŠ›å‡ºå³å¯ã€‚")]),t._v(" "),a("h3",{attrs:{id:"å¼‚å¸¸å¤„ç†åŒ…å«ç±»å‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¼‚å¸¸å¤„ç†åŒ…å«ç±»å‹"}},[t._v("#")]),t._v(" å¼‚å¸¸å¤„ç†åŒ…å«ç±»å‹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# é€šç”¨500å¼‚å¸¸\nException ç±»æ•è· 500 å¼‚å¸¸å¤„ç†\n\n# Feign å¼‚å¸¸\nFeignException ç±»æ•è·\nClientException ç±»æ•è·\n\n# ä¸šåŠ¡è‡ªå®šä¹‰\nBusinessException ç±»æ•è· ä¸šåŠ¡é€šç”¨è‡ªå®šä¹‰å¼‚å¸¸\n\n# å‚æ•°æ ¡éªŒå¼‚å¸¸\nHttpMessageNotReadableException å‚æ•°é”™è¯¯å¼‚å¸¸\nBindException å‚æ•°é”™è¯¯å¼‚å¸¸\n")])])]),a("h3",{attrs:{id:"ç¨‹åºä¸»åŠ¨æŠ›å‡ºå¼‚å¸¸"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¨‹åºä¸»åŠ¨æŠ›å‡ºå¼‚å¸¸"}},[t._v("#")]),t._v(" ç¨‹åºä¸»åŠ¨æŠ›å‡ºå¼‚å¸¸")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('throw new BusinessException(BusinessErrorCode.BUSINESS_ERROR);\n// æˆ–è€…\nthrow new BusinessException("CLOUD800","æ²¡æœ‰å¤šä½™çš„åº“å­˜");\n')])])]),a("p",[t._v("é€šå¸¸ä¸å»ºè®®ç›´æ¥æŠ›å‡ºé€šç”¨çš„BusinessExceptionå¼‚å¸¸ï¼Œåº”å½“åœ¨å¯¹åº”çš„æ¨¡å—é‡Œæ·»åŠ å¯¹åº”çš„é¢†åŸŸçš„å¼‚å¸¸å¤„ç†ç±»ä»¥åŠå¯¹åº”çš„æšä¸¾é”™è¯¯ç±»å‹ã€‚")]),t._v(" "),a("p",[t._v("å¦‚ä¼šå‘˜æ¨¡å—ï¼š\nåˆ›å»º"),a("code",[t._v("UserException")]),t._v("å¼‚å¸¸ç±»ã€"),a("code",[t._v("UserErrorCode")]),t._v("æšä¸¾ã€‚")]),t._v(" "),a("p",[t._v("UserException:")]),t._v(" "),a("p",[t._v("ç»§æ‰¿ "),a("code",[t._v("BusinessException")])]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * {@link RuntimeException} user ä¸šåŠ¡å¼‚å¸¸\n *\n * @author purgeyao\n * @since 1.0\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Getter")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UserException")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BusinessException")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" code"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" isShowMsg "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n   * ä½¿ç”¨æšä¸¾ä¼ å‚\n   *\n   * @param errorCode å¼‚å¸¸æšä¸¾\n   */")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UserException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UserErrorCode")]),t._v(" errorCode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("errorCode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" errorCode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getMessage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("code "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" errorCode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("UserErrorCode:")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Getter")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("enum")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UserErrorCode")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n     * æƒé™å¼‚å¸¸\n     */")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("NOT_PERMISSIONS")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CLOUD401"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"æ‚¨æ²¡æœ‰æ“ä½œæƒé™"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" code"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UserErrorCode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" code"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("code "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" code"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("message "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("æœ€åä¸šåŠ¡ä½¿ç”¨å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ¤æ–­æ˜¯å¦æœ‰æƒé™æŠ›å‡ºå¼‚å¸¸")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UserException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UserErrorCode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("NOT_PERMISSIONS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[a("strong",[t._v("ä¸Šè¿°æ–¹å¼ï¼ŒæŠ›å‡ºå¼‚å¸¸åä¼šè¢«æ¨¡å—å¤„ç†ã€‚å‰å°è¿”å›å¦‚ä¸‹")]),t._v("ï¼š")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('{\n  "succ": false,        // æ˜¯å¦æˆåŠŸ\n  "ts": 1566467628851,  // æ—¶é—´æˆ³\n  "data": null,         // æ•°æ®\n  "code": "CLOUD800",   // é”™è¯¯ç±»å‹\n  "msg": "ä¸šåŠ¡å¼‚å¸¸",    // é”™è¯¯æè¿°\n}\n')])])]),a("h2",{attrs:{id:"tow-ç»Ÿä¸€è¿”å›å°è£…ğŸ—³"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tow-ç»Ÿä¸€è¿”å›å°è£…ğŸ—³"}},[t._v("#")]),t._v(" Tow ç»Ÿä¸€è¿”å›å°è£…ğŸ—³")]),t._v(" "),a("p",[t._v("åœ¨RESTé£æ ¼çš„å¼€å‘ä¸­ï¼Œé¿å…é€šå¸¸ä¼šå‘ŠçŸ¥å‰å°è¿”å›æ˜¯å¦æˆåŠŸä»¥åŠçŠ¶æ€ç ç­‰ä¿¡æ¯ã€‚è¿™é‡Œæˆ‘ä»¬é€šå¸¸è¿”å›çš„æ—¶å€™åšä¸€æ¬¡"),a("code",[t._v("util")]),t._v("çš„åŒ…è£…å¤„ç†å·¥ä½œï¼Œå¦‚ï¼š"),a("code",[t._v("Result")]),t._v("ç±»ä¼¼çš„ç±»ï¼Œé‡Œé¢åŒ…å«"),a("code",[t._v("succ")]),t._v("ã€"),a("code",[t._v("code")]),t._v("ã€"),a("code",[t._v("msg")]),t._v("ã€"),a("code",[t._v("data")]),t._v("ç­‰å­—æ®µã€‚")]),t._v(" "),a("p",[t._v("æ¥å£è°ƒç”¨å¤„ç†ç±»ä¼¼å¦‚ä¸‹:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('  @GetMapping("hello")\n  public Result list(){\n    return Result.ofSuccess("hello");\n  }\n')])])]),a("p",[t._v("ç»“æœ:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('{\n  "succ": ture,         // æ˜¯å¦æˆåŠŸ\n  "ts": 1566467628851,  // æ—¶é—´æˆ³\n  "data": "hello",      // æ•°æ®\n  "code": null,         // é”™è¯¯ç±»å‹\n  "msg": null,          // é”™è¯¯æè¿°\n  "fail": true\n}\n')])])]),a("h3",{attrs:{id:"åŠŸèƒ½ä½¿ç”¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŠŸèƒ½ä½¿ç”¨"}},[t._v("#")]),t._v(" åŠŸèƒ½ä½¿ç”¨")]),t._v(" "),a("p",[t._v("é»˜è®¤æƒ…å†µæ‰€æœ‰çš„ "),a("code",[t._v("web controller")]),t._v(" éƒ½ä¼šè¢«å°è£…ä¸ºä»¥ä¸‹è¿”å›æ ¼å¼ã€‚")]),t._v(" "),a("p",[t._v("æ¥å£ï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@GetMapping")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("è¿”å›")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"succ"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("             "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ˜¯å¦æˆåŠŸ")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1566386951005")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ—¶é—´æˆ³")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("           "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ•°æ®")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token null keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("             "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é”™è¯¯ç±»å‹")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"msg"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token null keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("              "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é”™è¯¯æè¿°")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"å¿½ç•¥å°è£…æ³¨è§£-ignoreresponseadvice"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¿½ç•¥å°è£…æ³¨è§£-ignoreresponseadvice"}},[t._v("#")]),t._v(" å¿½ç•¥å°è£…æ³¨è§£ "),a("code",[t._v("@IgnoreResponseAdvice")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("public @interface IgnoreResponseAdvice {\n\n    /**\n     * æ˜¯å¦è¿›è¡Œå…¨å±€å¼‚å¸¸å¤„ç†å°è£…\n     * @return true:è¿›è¡Œå¤„ç†;  false:ä¸è¿›è¡Œå¼‚å¸¸å¤„ç†\n     */\n    boolean errorDispose() default true;\n\n}\n")])])]),a("p",[a("code",[t._v("@IgnoreResponseAdvice")]),t._v("å…è®¸èŒƒå›´ä¸ºï¼š"),a("strong",[t._v("ç±» + æ–¹æ³•")]),t._v("ï¼Œæ ‡è¯†åœ¨ç±»ä¸Šè¿™ä¸ªç±»ä¸‹çš„æ‰€æœ‰æ–¹æ³•çš„è¿”å›éƒ½å°†å¿½ç•¥è¿”å›å°è£…ã€‚")]),t._v(" "),a("p",[t._v("æ¥å£ï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@IgnoreResponseAdvice")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¿½ç•¥æ•°æ®åŒ…è£… å¯æ·»åŠ åˆ°ç±»ã€æ–¹æ³•ä¸Š")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@GetMapping")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("è¿”å› "),a("code",[t._v("test")])]),t._v(" "),a("h3",{attrs:{id:"feignclient-è°ƒç”¨å¼‚å¸¸è¿”å›å¤„ç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#feignclient-è°ƒç”¨å¼‚å¸¸è¿”å›å¤„ç†"}},[t._v("#")]),t._v(" "),a("code",[t._v("FeignClient")]),t._v(" è°ƒç”¨å¼‚å¸¸è¿”å›å¤„ç†")]),t._v(" "),a("p",[t._v("é»˜è®¤ "),a("code",[t._v("FeignClient")]),t._v(" è°ƒç”¨å¼‚å¸¸ä¼šè¿”å› "),a("code",[t._v("FeignException")]),t._v(" 500 å¼‚å¸¸ï¼Œç”±äºå¼€å¯äº†ç»Ÿä¸€å¼‚å¸¸å¤„ç†ï¼Œè¢«è°ƒç”¨æ–¹feignå¼‚å¸¸ä¼šè¢«å¤„ç†ä¸ºåŒ…è£…è¿‡åç»“æœè¿”å›ã€‚")]),t._v(" "),a("p",[a("strong",[t._v("æœåŠ¡ç«¯ï¼š")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('@Override\npublic Boolean testBoolean() throws Exception {\n    throw new Exception("æ¨¡æ‹Ÿå¼‚å¸¸");\n}\n')])])]),a("p",[a("strong",[t._v("è°ƒç”¨ç«¯ï¼š")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('@GetMapping("testBoolean")\npublic Boolean testBoolean() throws Exception {\n    // è°ƒç”¨æœåŠ¡ç«¯å¼‚å¸¸\n    // å¦‚æœæœåŠ¡ç«¯ä¸æ·»åŠ  @IgnoreResponseAdvice(errorDispose = false) ä¼šå‡ºç°ä¸‹é¢å¼‚å¸¸\n    // There was an unexpected error (type=Internal Server Error, status=500).\n    // Error while extracting response for type [class java.lang.Boolean] and content type [application/json;charset=UTF-8]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize instance of `java.lang.Boolean` out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.lang.Boolean` out of START_OBJECT token at [Source: (PushbackInputStream); line: 1, column: 1]\n    return exampleFeignClient.testBoolean();\n}\n')])])]),a("p",[t._v("å› æ­¤ "),a("code",[t._v("exampleFeignClient#testBoolean")]),t._v(" è°ƒç”¨å‡ºç°äº† feign è½¬æ¢å¼‚å¸¸äº†ã€‚")]),t._v(" "),a("p",[t._v("è¿™é‡Œéœ€è¦å…³é—­æä¾›è€…çš„ feign æ¥å£å¼‚å¸¸å¤„ç†ã€‚æˆ–è€…åœ¨æ­¤æ¥å£ç±»ä¸Šæ·»åŠ  "),a("code",[t._v("@IgnoreResponseAdvice(errorDispose = false)")]),t._v(" errorDispose è®¾ç½®ä¸º false")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('/**\n * æ·»åŠ  IgnoreResponseAdvice#errorDispose è®¾ç½®ä¸ºå¼‚å¸¸ä¸éœ€è¦å¤„ç†åŒ…è£…\n */\n@Override\n@IgnoreResponseAdvice(errorDispose = false)\npublic Boolean testBoolean() throws Exception {\n    throw new Exception("æ¨¡æ‹Ÿå¼‚å¸¸");\n}\n')])])]),a("h2",{attrs:{id:"æ€»ç»“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“"}},[t._v("#")]),t._v(" æ€»ç»“")]),t._v(" "),a("p",[t._v("é¡¹ç›®é‡Œå¾ˆå¤šé‡å¤çš„codeï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€å®šçš„æ–¹å¼å»ç®€åŒ–ï¼Œä»¥è¾¾åˆ°ä¸€å®šç›®çš„å‡å°‘å¼€å‘é‡ã€‚PurgeTeam å…·æœ‰ä¸€äº›ä¼˜ç§€çš„å¼€æºç»„ä»¶ï¼Œå‡å°‘æ—¥å¸¸çš„å¼€å‘é‡ã€‚")]),t._v(" "),a("blockquote",[a("p",[t._v("ç¤ºä¾‹ä»£ç åœ°å€:"),a("a",{attrs:{href:"https://github.com/purgeteam/spirng-cloud-purgeteam/tree/master/spring-cloud-purgeteam-examples/unified-dispose-spring-cloud-starter-examples",target:"_blank",rel:"noopener noreferrer"}},[t._v("unified-dispose-spring-cloud-starter"),a("OutboundLink")],1)])]),t._v(" "),a("blockquote",[a("p",[t._v("ä½œè€…GitHub:\n"),a("a",{attrs:{href:"https://github.com/purgeyao",target:"_blank",rel:"noopener noreferrer"}},[t._v("Purgeyao"),a("OutboundLink")],1),t._v(" æ¬¢è¿å…³æ³¨")])]),t._v(" "),a("blockquote",[a("p",[t._v("qqäº¤æµç¾¤: "),a("code",[t._v("812321371")]),t._v(" å¾®ä¿¡äº¤æµç¾¤: "),a("code",[t._v("MercyYao")])])]),t._v(" "),a("blockquote",[a("p",[t._v("å¾®ä¿¡å…¬ä¼—å·:")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://purgeyao.github.io/img/about-my-mp-8cm.jpg",alt:"å¾®ä¿¡å…¬ä¼—å·äºŒç»´ç "}})])])}),[],!1,null,null,null);s.default=n.exports}}]);